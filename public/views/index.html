<section data-ng-controller="TodosController" data-ng-init="find()">
  <div ng-switch on="global.authenticated">
    <div ng-switch-when="true">
      <div class="row">
        <div class="new-todo-wrapper">
          <form class="form-horizontal col-md-6 col-md-offset-3" role="form" data-ng-submit="create()">
            <div class="form-group">
              <div class="col-md-10">
                <input type="text" class="form-control" data-ng-model="task" id="task" placeholder="Enter a todo..." required>
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 col-md-offset-3">
          <ul class="todos unstyled">
            <li data-ng-repeat="todo in todos">
              <input type="checkbox" ng-model="todo.completed" ng-change="update()">
              <input type="number" ng-model="todo.priority" name="input" min="0" max="10" ng-change="update()">
              <span>{{todo.due | date:'medium'}}
              <span>{{todo.task}}</span>
            </li>
          </ul>
          <h1 data-ng-hide="!todos || todos.length">No todos yet. <br> Why don't you <a href="/#!/todos/create">Create One</a>?</h1>
        </div>
      </div>
    </div>
    <div ng-switch-when="false">
      <h1>Please login to see your to-do list!</h1>
    </div>
  </div>
</section>